"0","#| echo: false"
"0",""
"0","scores_joined <- scores %>%"
"0","  left_join(teams, by = c(""team_home"" = ""team_name"")) "
"0",""
"0","# Add a new column ""team_win_id"" based on if the favored team won"
"0","scores_joined <- scores_joined %>%"
"0","  mutate("
"0","    favorite_team_won = case_when("
"0","      team_favorite_id == team_id & home_win == ""W"" ~ TRUE,"
"0","      team_favorite_id != team_id & home_win == ""L"" ~ TRUE,"
"0","      TRUE ~ FALSE"
"0","    )"
"0","  )"
"0",""
"0","betting_plot <- scores_joined %>%"
"0","  filter(!is.na(over_under_line) & !is.na(spread_favorite)) %>%"
"0","  ggplot(aes("
"0","    x = spread_favorite, "
"0","    y = over_under_line, "
"0","    color = favorite_team_won,"
"0","    text = paste(""Favorite Team ("", team_favorite_id, "") Won:"", favorite_team_won))) +"
"0","  geom_point(alpha = 0.3) +"
"0","  labs("
"0","    title = ""Over/Under Betting Lines, Spread, and Outcome"", "
"0","    x = ""Spread Favorite"", "
"0","    y = ""Over/Under Line"","
"0","    color = ""Did Favored Team Win?"") +"
"0","  scale_color_manual(values = c(""TRUE"" = ""blue"", ""FALSE"" = ""red""))"
"0",""
"0","ggplotly(betting_plot, tooltip = ""text"")"
